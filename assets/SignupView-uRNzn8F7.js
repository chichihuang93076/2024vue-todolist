import{u as h,r as t,c as C,a as e,b as _,w as r,v as i,d as b,e as x,f as U,o as S,S as V,g as k,h as c,i as y}from"./index-C1GaMvhf.js";const B={id:"signUpPage",class:"bg-yellow"},P={class:"conatiner signUpPage vhContainer"},q={class:"formControls",action:"index.html"},E=e("h2",{class:"formControls_txt"},"註冊帳號",-1),L=e("label",{class:"formControls_label",for:"email"},"Email",-1),N=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),R=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),D=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),M="https://todolist-api.hexschool.io",$={__name:"SignupView",setup(T){const f=h(),u=t(""),a=t(""),p=t(""),d=t(""),l=t(""),m=t(!1),v=()=>{a.value===p.value?g():c.fire({icon:"warning",title:"訊息",text:"密碼輸入不一致請再次確認",timer:2e3,timerProgressBar:!0})},g=async()=>{try{const n=await y.post(`${M}/users/sign_up`,{email:u.value,password:a.value,nickname:d.value});l.value="註冊成功. UID: "+n.data.uid,m.value=!1,c.fire({icon:"success",title:"訊息",text:l.value,timer:2e3,timerProgressBar:!0}),f.push("/")}catch(n){l.value="註冊失敗: "+n.response.data.message,m.value=!0,c.fire({icon:"error",title:"訊息",text:l.value,timer:2e3,timerProgressBar:!0})}};return(n,s)=>{const w=U("RouterLink");return S(),C("div",B,[e("div",P,[_(V),e("div",null,[e("form",q,[E,L,r(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[0]||(s[0]=o=>u.value=o)},null,512),[[i,u.value]]),N,r(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":s[1]||(s[1]=o=>d.value=o)},null,512),[[i,d.value]]),R,r(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[2]||(s[2]=o=>a.value=o)},null,512),[[i,a.value]]),D,r(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":s[3]||(s[3]=o=>p.value=o)},null,512),[[i,p.value]]),e("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:b(v,["prevent"])}),_(w,{to:"/",class:"formControls_btnLink"},{default:x(()=>[k("登入")]),_:1})])])])])}}};export{$ as default};
