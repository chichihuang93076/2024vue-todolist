import{u as h,r as o,c as C,a as e,b as v,w as u,v as p,d as b,e as x,f as U,o as S,S as V,g as k,h as m,i as y}from"./index-CfavdQTc.js";const B={id:"signUpPage",class:"bg-yellow"},P={class:"conatiner signUpPage vhContainer"},E={class:"formControls",action:"index.html"},q=e("h2",{class:"formControls_txt"},"註冊帳號",-1),L=e("label",{class:"formControls_label",for:"email"},"Email",-1),M=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),N=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),R=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),D="https://todolist-api.hexschool.io",$={__name:"SignupView",setup(T){const _=h(),a=o(""),l=o(""),d=o(""),n=o(""),r=o(""),c=o(!1),f=()=>{l.value===d.value&&a.value.trim()&&n.value.trim()?g():m.fire({icon:"warning",title:"訊息",text:"EMail空白、暱稱空白或密碼輸入不一致請再次確認",timer:2e3,timerProgressBar:!0})},g=async()=>{try{const i=await y.post(`${D}/users/sign_up`,{email:a.value,password:l.value,nickname:n.value});r.value="註冊成功. UID: "+i.data.uid,c.value=!1,m.fire({icon:"success",title:"訊息",text:r.value,timer:2e3,timerProgressBar:!0}),_.push("/")}catch(i){r.value="註冊失敗: "+i.response.data.message,c.value=!0,m.fire({icon:"error",title:"訊息",text:r.value,timer:2e3,timerProgressBar:!0})}};return(i,s)=>{const w=U("RouterLink");return S(),C("div",B,[e("div",P,[v(V),e("div",null,[e("form",E,[q,L,u(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[0]||(s[0]=t=>a.value=t)},null,512),[[p,a.value]]),M,u(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t)},null,512),[[p,n.value]]),N,u(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[2]||(s[2]=t=>l.value=t)},null,512),[[p,l.value]]),R,u(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":s[3]||(s[3]=t=>d.value=t)},null,512),[[p,d.value]]),e("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:b(f,["prevent"])}),v(w,{to:"/signin",class:"formControls_btnLink"},{default:x(()=>[k("登入")]),_:1})])])])])}}};export{$ as default};
